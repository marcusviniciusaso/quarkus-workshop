{"id":"5456080","content":"package ch.qos.logback.classic.net;\n\nimport ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.core.net.ssl.ConfigurableSSLServerSocketFactory;\nimport ch.qos.logback.core.net.ssl.SSLParametersConfiguration;\nimport java.security.NoSuchAlgorithmException;\nimport javax.net.ServerSocketFactory;\nimport javax.net.ssl.SSLContext;\n\npublic class SimpleSSLSocketServer extends SimpleSocketServer {\n   private final ServerSocketFactory socketFactory;\n\n   public static void main(String[] argv) throws Exception {\n      doMain(SimpleSSLSocketServer.class, argv);\n   }\n\n   public SimpleSSLSocketServer(LoggerContext lc, int port) throws NoSuchAlgorithmException {\n      this(lc, port, SSLContext.getDefault());\n   }\n\n   public SimpleSSLSocketServer(LoggerContext lc, int port, SSLContext sslContext) {\n      super(lc, port);\n      if (sslContext == null) {\n         throw new NullPointerException(\"SSL context required\");\n      } else {\n         SSLParametersConfiguration parameters = new SSLParametersConfiguration();\n         parameters.setContext(lc);\n         this.socketFactory = new ConfigurableSSLServerSocketFactory(parameters, sslContext.getServerSocketFactory());\n      }\n   }\n\n   protected ServerSocketFactory getServerSocketFactory() {\n      return this.socketFactory;\n   }\n}\n"}