{"id":"1695984","content":"package ch.qos.logback.classic.servlet;\n\nimport ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.classic.util.StatusViaSLF4JLoggerFactory;\nimport ch.qos.logback.core.spi.ContextAwareBase;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport org.slf4j.ILoggerFactory;\nimport org.slf4j.LoggerFactory;\n\npublic class LogbackServletContextListener implements ServletContextListener {\n   ContextAwareBase contextAwareBase = new ContextAwareBase();\n\n   public void contextInitialized(ServletContextEvent sce) {\n   }\n\n   public void contextDestroyed(ServletContextEvent sce) {\n      ILoggerFactory iLoggerFactory = LoggerFactory.getILoggerFactory();\n      if (iLoggerFactory instanceof LoggerContext) {\n         LoggerContext loggerContext = (LoggerContext)iLoggerFactory;\n         this.contextAwareBase.setContext(loggerContext);\n         StatusViaSLF4JLoggerFactory.addInfo(\"About to stop \" + loggerContext.getClass().getCanonicalName() + \" [\" + loggerContext.getName() + \"]\", this);\n         loggerContext.stop();\n      }\n\n   }\n}\n"}